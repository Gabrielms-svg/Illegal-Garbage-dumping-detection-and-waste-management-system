<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dump Surveillance AI - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2e7d32;
            --primary-dark: #1b5e20;
            --primary-light: #4caf50;
            --secondary-color: #ff9800;
            --secondary-dark: #ef6c00;
            --light-bg: #f5f5f5;
            --dark-text: #333;
            --light-text: #666;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            color: var(--dark-text);
            background-color: var(--light-bg);
            line-height: 1.6;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }
        
        /* Navbar Styles */
        .navbar {
            background-color: var(--white);
            box-shadow: var(--shadow);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            color: var(--primary-color);
            font-size: 1.8rem;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            color: var(--primary-dark);
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark-text);
            font-weight: 500;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .nav-links a:hover {
            color: var(--primary-color);
        }
        
        .nav-links .sign-out {
            color: #d32f2f;
        }
        
        .nav-links .sign-out:hover {
            color: #b71c1c;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #e8f5e9;
            padding: 8px 15px;
            border-radius: 20px;
        }
        
        .user-info i {
            color: var(--primary-color);
        }
        
        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .welcome-section {
            background: linear-gradient(to right, var(--primary-color), var(--primary-light));
            color: var(--white);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }
        
        .welcome-section h2 {
            margin-bottom: 0.5rem;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .card {
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid #eee;
        }
        
        .card-header h3 {
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        /* Report Offence Form */
        .report-form input,
        .report-form textarea,
        .report-form select {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Roboto', sans-serif;
        }
        
        .report-form textarea {
            height: 120px;
            resize: vertical;
        }
        
        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 4px;
            padding: 1.5rem;
            text-align: center;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .upload-area:hover {
            border-color: var(--primary-color);
        }
        
        .upload-area i {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .btn {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: var(--secondary-dark);
        }
        
        /* Map Container */
        .map-container {
            height: 300px;
            background-color: #e0e0e0;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }
        
        .map-placeholder {
            text-align: center;
            color: var(--light-text);
        }
        
        .map-placeholder i {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        /* Chatbot */
        .chatbot-container {
            height: 300px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 1rem;
            background-color: #f9f9f9;
            border-radius: 4px;
            margin-bottom: 1rem;
        }
        
        .message {
            margin-bottom: 1rem;
            max-width: 80%;
        }
        
        .bot-message {
            background-color: #e8f5e9;
            padding: 0.8rem;
            border-radius: 10px 10px 10px 0;
            align-self: flex-start;
        }
        
        .user-message {
            background-color: var(--primary-light);
            color: white;
            padding: 0.8rem;
            border-radius: 10px 10px 0 10px;
            margin-left: auto;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex-grow: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .chat-input button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            width: 50px;
            cursor: pointer;
        }
        
        /* Recent Dumps Grid */
        .dumps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .dump-item {
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            height: 150px;
        }
        
        .dump-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .dump-item:hover img {
            transform: scale(1.05);
        }
        
        .dump-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.5rem;
            font-size: 0.8rem;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
            border-top: 1px solid #ddd;
            color: var(--light-text);
            font-size: 0.9rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }
            
            .nav-links {
                width: 100%;
                justify-content: space-between;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 1rem;
            }
        }
        
        /* Django Template Tags Simulation */
        .django-tag {
            display: inline-block;
            background-color: #f1f1f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 0 2px;
            color: #d32f2f;
        }
    </style>
</head>
<body>
    <!-- Django Template Tag for CSRF Token -->
    <!-- {% csrf_token %} -->
    
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-trash-alt logo-icon"></i>
            <h1>Dump Surveillance AI</h1>
        </div>
        
        <div class="nav-links">
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <!-- Django Template Tag for Username -->
                <!-- {% if user.is_authenticated %} -->
                <span>Welcome, <strong>JohnDoe</strong></span>
                <!-- {% endif %} -->
            </div>
            
            
            <a href="{% url 'user_logout' %}" class="sign-out"><i class="fas fa-sign-out-alt"></i> Sign Out</a>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="container">
        <!-- Welcome Section -->
        <section class="welcome-section">
            <h2>Welcome to Dump Surveillance AI Dashboard</h2>
            <p>Help us combat illegal garbage dumping and improve waste management in our community.</p>
            <p>Today's report: <strong>24</strong> illegal dumps detected | <strong>15</strong> offences reported by users</p>
        </section>
        
        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Report Offence Card -->
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-exclamation-triangle card-icon"></i> Report Illegal Dumping</h3>
                </div>
                
                <form class="report-form" method="post" enctype="multipart/form-data">
                    <!-- Django Form Template Tags would go here -->
                    <!-- {{ form.as_p }} -->
                    
                    <input type="text" name="location" placeholder="Location of dumping" required>
                    
                    <textarea name="description" placeholder="Describe the incident (time, vehicles involved, etc.)" required></textarea>
                    
                    <select name="severity" required>
                        <option value="" disabled selected>Select severity level</option>
                        <option value="low">Low - Small amount of waste</option>
                        <option value="medium">Medium - Moderate dumping</option>
                        <option value="high">High - Large scale illegal dumping</option>
                    </select>
                    
                    <div class="upload-area" onclick="document.getElementById('file-upload').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload evidence (images/videos)</p>
                        <input type="file" id="file-upload" name="evidence" accept="image/*,video/*" hidden multiple>
                    </div>
                    
                    <button type="submit" class="btn">
                        <i class="fas fa-paper-plane"></i> Submit Report
                    </button>
                </form>
            </div>
            
            <!-- Legal Dumping Locations Card -->
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-map-marker-alt card-icon"></i> Legal Dumping Locations</h3>
                    <i class="fas fa-search"></i>
                </div>
                
                <p>Find authorized garbage bins and recycling centers near you:</p>
                
                <div class="map-container">
                    <div class="map-placeholder">
                        <i class="fas fa-map"></i>
                        <p>Interactive Map Integration</p>
                        <p><small>Map would show here with markers for legal dumping sites</small></p>
                    </div>
                </div>
                
                <button class="btn btn-secondary">
                    <i class="fas fa-location-arrow"></i> Use My Location
                </button>
            </div>
            
            <!-- Waste Management Chatbot Card -->
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-robot card-icon"></i> Waste Management Assistant</h3>
                </div>
                
                <div class="chatbot-container">
                    <div class="chat-messages">
                        <div class="message bot-message">
                            Hello! I'm your Waste Management Assistant. How can I help you today?
                        </div>
                        <div class="message user-message">
                            What items can be recycled?
                        </div>
                        <div class="message bot-message">
                            Common recyclables include paper, cardboard, glass, aluminum, and most plastics labeled #1-7. Always check local guidelines.
                        </div>
                    </div>
                    
                    <div class="chat-input">
                        <input type="text" placeholder="Ask about waste management...">
                        <button><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
                
                <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--light-text);">
                    <p><i class="fas fa-lightbulb"></i> <strong>Try asking:</strong> "Where can I dispose of electronic waste?" or "What is the penalty for illegal dumping?"</p>
                </div>
            </div>
        </div>
        
        <!-- Recent Illegal Dumps Detected -->
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-camera card-icon"></i> Recently Detected Illegal Dumps</h3>
                <a href="#" style="text-decoration: none; color: var(--primary-color); font-size: 0.9rem;">View All</a>
            </div>
            
            <p>These are recent illegal dumping incidents detected by our AI surveillance system:</p>
            
            <div class="dumps-grid">
                <!-- Django Template Tag for loop -->
                <!-- {% for dump in recent_dumps %} -->
                <div class="dump-item">
                    <img src="https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Illegal dump site">
                    <div class="dump-info">
                        <strong>Downtown Area</strong><br>
                        Detected: 2 hours ago
                    </div>
                </div>
                
                <div class="dump-item">
                    <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Illegal dump site">
                    <div class="dump-info">
                        <strong>Industrial Zone</strong><br>
                        Detected: 5 hours ago
                    </div>
                </div>
                
                <div class="dump-item">
                    <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Illegal dump site">
                    <div class="dump-info">
                        <strong>Riverside</strong><br>
                        Detected: 1 day ago
                    </div>
                </div>
                
                <div class="dump-item">
                    <img src="https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60" alt="Illegal dump site">
                    <div class="dump-info">
                        <strong>Forest Road</strong><br>
                        Detected: 2 days ago
                    </div>
                </div>
                <!-- {% endfor %} -->
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <p>Dump Surveillance AI &copy; 2023. Combating illegal dumping through technology and community participation.</p>
        <p>For emergencies, contact local authorities immediately.</p>
    </footer>

    <script>
        // Simple JavaScript for interactive elements
        
        // File upload area interaction
        const uploadArea = document.querySelector('.upload-area');
        const fileInput = document.getElementById('file-upload');
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = 'var(--primary-color)';
            uploadArea.style.backgroundColor = '#f0f8ff';
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.borderColor = '#ccc';
            uploadArea.style.backgroundColor = '';
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = '#ccc';
            uploadArea.style.backgroundColor = '';
            fileInput.files = e.dataTransfer.files;
            
            // Show file count
            if (fileInput.files.length > 0) {
                uploadArea.innerHTML = `<i class="fas fa-check-circle"></i><p>${fileInput.files.length} file(s) selected</p>`;
            }
        });
        
        // Chatbot simulation
        const chatInput = document.querySelector('.chat-input input');
        const chatButton = document.querySelector('.chat-input button');
        const chatMessages = document.querySelector('.chat-messages');
        
        const botResponses = [
            "Illegal dumping fines can range from $200 to $10,000 depending on severity and location.",
            "You can report illegal dumping anonymously through our system or by calling local authorities.",
            "Hazardous waste includes batteries, paint, chemicals, and electronics. These require special disposal.",
            "Our AI system uses cameras and image recognition to detect illegal dumping activities in monitored areas.",
            "You can find recycling centers using the 'Legal Dumping Locations' map on this dashboard."
        ];
        
        chatButton.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
        
        function sendMessage() {
            const messageText = chatInput.value.trim();
            if (messageText === "") return;
            
            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.textContent = messageText;
            chatMessages.appendChild(userMessage);
            
            // Clear input
            chatInput.value = '';
            
            // Simulate bot response after delay
            setTimeout(() => {
                const randomResponse = botResponses[Math.floor(Math.random() * botResponses.length)];
                const botMessage = document.createElement('div');
                botMessage.className = 'message bot-message';
                botMessage.textContent = randomResponse;
                chatMessages.appendChild(botMessage);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
            
            // Scroll to bottom for user message
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Form submission simulation
        const reportForm = document.querySelector('.report-form');
        reportForm.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Report submitted successfully! Authorities will review your report.');
            reportForm.reset();
            uploadArea.innerHTML = `<i class="fas fa-cloud-upload-alt"></i><p>Click to upload evidence (images/videos)</p>`;
        });
    </script>
</body>
</html>